---
title: Creare una query per individuare dati riservati memorizzati nei siti
ms.author: stephow
author: stephow-MSFT
manager: laurawi
ms.date: 6/29/2018
ms.audience: Admin
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MOE150
- MET150
ms.assetid: 3019fbc5-7f15-4972-8d0e-dc182dc7f836
description: Con la prevenzione della perdita di dati (DLP) in SharePoint Online, è possibile individuare i documenti che contengono dati riservati in tutto il tenant. Dopo aver scoperto i documenti, è possibile collaborare con i proprietari dei documenti per proteggere i dati. Questo argomento consente di creare una query per la ricerca di dati riservati.
ms.openlocfilehash: 3dc1081d4627f1a26c50eed84f733c31a3f6c194
ms.sourcegitcommit: f57b4001ef1327f0ea622e716a4d7d78f1769b49
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/23/2019
ms.locfileid: "30217236"
---
# <a name="form-a-query-to-find-sensitive-data-stored-on-sites"></a><span data-ttu-id="e2fdd-105">Creare una query per individuare dati riservati memorizzati nei siti</span><span class="sxs-lookup"><span data-stu-id="e2fdd-105">Form a query to find sensitive data stored on sites</span></span>

<span data-ttu-id="e2fdd-p102">Gli utenti spesso archiviano dati riservati, ad esempio numeri di carta di credito, numeri di previdenza sociale o personali, nei rispettivi siti e, nel tempo, possono esporre un'organizzazione a rischi significativi di perdita di dati. I documenti archiviati nei siti, inclusi i siti di OneDrive for business, possono essere condivisi con utenti esterni all'organizzazione che non devono avere accesso alle informazioni. Con la prevenzione della perdita di dati (DLP) in SharePoint Online, è possibile individuare i documenti che contengono dati riservati in tutto il tenant. Dopo aver scoperto i documenti, è possibile collaborare con i proprietari dei documenti per proteggere i dati. Questo argomento consente di creare una query per la ricerca di dati riservati.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p102">Users often store sensitive data, such as credit card numbers, social security numbers, or personal, on their sites, and over time this can expose an organization to significant risk of data loss. Documents stored on sites—including OneDrive for Business sites—could be shared with people outside the organization who shouldn't have access to the information. With data loss prevention (DLP) in SharePoint Online, you can discover documents that contain sensitive data throughout your tenant. After discovering the documents, you can work with the document owners to protect the data. This topic can help you form a query to search for sensitive data.</span></span>
  
> [!NOTE]
> <span data-ttu-id="e2fdd-111">Electronic Discovery, o eDiscovery e DLP sono funzionalità Premium che richiedono [SharePoint Online piano 2](https://go.microsoft.com/fwlink/?LinkId=510080).</span><span class="sxs-lookup"><span data-stu-id="e2fdd-111">Electronic discovery, or eDiscovery, and DLP are premium features that require [SharePoint Online Plan 2](https://go.microsoft.com/fwlink/?LinkId=510080).</span></span> 
  
## <a name="forming-a-basic-dlp-query"></a><span data-ttu-id="e2fdd-112">Creazione di una query DLP di base</span><span class="sxs-lookup"><span data-stu-id="e2fdd-112">Forming a basic DLP query</span></span>

<span data-ttu-id="e2fdd-p103">Sono disponibili tre parti che costituiscono una query DLP di base: SensitiveType, Range count e intervallo di confidenza. Come illustrato nella figura seguente, **SensitiveType: "\<\>tipo"** è obbligatorio e entrambi**|\<\> \*\* gli intervalli di conteggio e di**|\<\> confidenza\*\* sono facoltativi.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p103">There are three parts that make up a basic DLP query: SensitiveType, count range, and confidence range. As illustrated in the following graphic, **SensitiveType:"\<type\>"** is required, and both**|\<count range\>** and**|\<confidence range\>** are optional.</span></span> 
  
![Query di esempio divisa in necessaria e facoltativa](media/DLP-query-example-text.png)
  
### <a name="sensitive-type---required"></a><span data-ttu-id="e2fdd-116">SensitiveType - obbligatorio</span><span class="sxs-lookup"><span data-stu-id="e2fdd-116">Sensitive type - required</span></span>

<span data-ttu-id="e2fdd-p104">Che cos'è ogni parte? La proprietà `SensitiveType:"` e il nome di un tipo di informazioni vengono in genere iniziati con le query di SharePoint DLP dall'inventario dei `"`tipi di [informazioni riservate](https://go.microsoft.com/fwlink/?LinkID=509999)e terminano con un. È inoltre possibile utilizzare il nome di un [tipo di informazioni riservate personalizzato](create-a-custom-sensitive-information-type.md) creato per l'organizzazione. Ad esempio, è possibile cercare documenti contenenti numeri di carta di credito. In tal caso, è necessario utilizzare il formato seguente: `SensitiveType:"Credit Card Number"`. Poiché non è stato incluso l'intervallo di conteggio o la riservatezza, la query restituisce tutti i documenti in cui viene rilevato un numero di carta di credito. Questa è la query più semplice che è possibile eseguire e restituisce la maggior parte dei risultati. Tenere presente che l'ortografia e la spaziatura del tipo sensibile sono importanti.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p104">So what is each part? SharePoint DLP queries typically begin with the property  `SensitiveType:"` and an information type name from the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999), and end with a  `"`. You can also use the name of a [custom sensitive information type](create-a-custom-sensitive-information-type.md) that you created for your organization. For example, you might be looking for documents that contain credit card numbers. In such an instance, you'd use the following format:  `SensitiveType:"Credit Card Number"`. Because you didn't include count range or confidence range, the query returns every document in which a credit card number is detected. This is the simplest query that you can run, and it returns the most results. Keep in mind that the spelling and spacing of the sensitive type matters.</span></span> 
  
### <a name="ranges---optional"></a><span data-ttu-id="e2fdd-125">Intervalli - facoltativo</span><span class="sxs-lookup"><span data-stu-id="e2fdd-125">Ranges - optional</span></span>

<span data-ttu-id="e2fdd-p105">Entrambe le due parti successive sono intervalli, quindi esaminiamo rapidamente l'aspetto di un intervallo. Nelle query di SharePoint DLP, un intervallo di base è rappresentato da due numeri separati da due periodi, che sono analoghi a quanto segue: `[number]..[number]`. Ad esempio, se `10..20` viene utilizzato, quell'intervallo catturerà i numeri da 10 a 20. Sono disponibili molte diverse combinazioni di intervalli e diverse sono descritte in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p105">Both of the next two parts are ranges, so let's quickly examine what a range looks like. In SharePoint DLP queries, a basic range is represented by two numbers separated by two periods, which looks like this:  `[number]..[number]`. For instance, if  `10..20` is used, that range would capture numbers from 10 through 20. There are many different range combinations and several are covered in this topic.</span></span> 
  
<span data-ttu-id="e2fdd-p106">Aggiungere un intervallo di count alla query. È possibile utilizzare l'intervallo di Count per definire il numero di occorrenze di informazioni riservate che un documento deve contenere prima che sia incluso nei risultati della query. Ad esempio, se si desidera che la query restituisca solo i documenti che contengono esattamente cinque numeri di carta di credito `SensitiveType:"Credit Card Number|5"`, utilizzare la seguente operazione:. L'intervallo di conteggio può anche facilitare l'identificazione dei documenti che presentano livelli elevati di rischio. Ad esempio, l'organizzazione potrebbe prendere in considerazione documenti con cinque o più numeri di carta di credito a rischio elevato. Per trovare i documenti che corrispondono a questo criterio, è necessario utilizzare `SensitiveType:"Credit Card Number|5.."`la query seguente:. In alternativa, è possibile trovare documenti con cinque o meno numeri di carta di credito utilizzando la query `SensitiveType:"Credit Card Number|..5"`seguente:.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p106">Let's add a count range to the query. You can use count range to define the number of occurrences of sensitive information a document needs to contain before it's included in the query results. For example, if you want your query to return only documents that contain exactly five credit card numbers, use this:  `SensitiveType:"Credit Card Number|5"`. Count range can also help you identify documents that pose high degrees of risk. For example, your organization might consider documents with five or more credit card numbers a high risk. To find documents fitting this criterion, you would use this query:  `SensitiveType:"Credit Card Number|5.."`. Alternatively, you can find documents with five or fewer credit card numbers by using this query:  `SensitiveType:"Credit Card Number|..5"`.</span></span> 
  
#### <a name="confidence-range"></a><span data-ttu-id="e2fdd-137">Intervallo di confidenza</span><span class="sxs-lookup"><span data-stu-id="e2fdd-137">Confidence range</span></span>

<span data-ttu-id="e2fdd-p107">Infine, l'intervallo di confidenza è il livello di probabilità che il tipo sensibile rilevato sia effettivamente una corrispondenza. I valori per l'intervallo di confidenza funzionano in modo analogo all'intervallo di Count. È possibile creare una query senza includere un intervallo di conteggio. Ad esempio, per cercare i documenti con un numero qualsiasi di numeri di carta di credito, purché l'intervallo di confidenza sia pari o superiore al 85%, è `SensitiveType:"Credit Card Number|*|85.."`necessario utilizzare la query seguente:.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p107">Finally, confidence range is the level of confidence that the detected sensitive type is actually a match. The values for confidence range work similarly to count range. You can form a query without including a count range. For example, to search for documents with any number of credit card numbers—as long as the confidence range is 85 percent or higher—you would use this query:  `SensitiveType:"Credit Card Number|*|85.."`.</span></span> 
  
> [!IMPORTANT]
> <span data-ttu-id="e2fdd-p108">L'asterisco ( `*`) è un carattere jolly che indica che viene utilizzato qualsiasi valore. È possibile utilizzare il carattere jolly ( `*`) nell'intervallo di conteggio o nell'intervallo di confidenza, ma non in un tipo riservato.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p108">The asterisk ( `*`) is a wildcard character that means any value works. You can use the wildcard character ( `*`) either in the count range or in the confidence range, but not in a sensitive type.</span></span> 
  
### <a name="additional-query-properties-and-search-operators-available-in-the-ediscovery-center"></a><span data-ttu-id="e2fdd-144">Ulteriori proprietà della query e operatori di ricerca sono disponibili nel Centro eDiscovery</span><span class="sxs-lookup"><span data-stu-id="e2fdd-144">Additional query properties and search operators available in the eDiscovery Center</span></span>

<span data-ttu-id="e2fdd-p109">DLP in SharePoint introduce anche la proprietà LastSensitiveContentScan, che consente di cercare i file analizzati in un intervallo di tempo specifico. Per gli esempi di query `LastSensitiveContentScan` con la proprietà, vedere gli [esempi di query complesse](form-a-query-to-find-sensitive-data-stored-on-sites.md#BKMK_ExamplesOfComplexQueries) nella sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p109">DLP in SharePoint also introduces the LastSensitiveContentScan property, which can help you search for files scanned within a specific timeframe. For query examples with the  `LastSensitiveContentScan` property, see the [Examples of complex queries](form-a-query-to-find-sensitive-data-stored-on-sites.md#BKMK_ExamplesOfComplexQueries) in the next section.</span></span> 
  
<span data-ttu-id="e2fdd-p110">È possibile utilizzare non solo le proprietà specifiche di DLP per creare una query, ma anche le proprietà di ricerca di eDiscovery `Author` di `FileExtension`SharePoint standard, ad esempio o. È possibile utilizzare gli operatori per creare query complesse. Per l'elenco delle proprietà e degli operatori disponibili, vedere l'articolo [utilizzo di proprietà e operatori di ricerca con](https://go.microsoft.com/fwlink/?LinkId=510093) il post di Blog di eDiscovery.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p110">You can use not only DLP-specific properties to create a query, but also standard SharePoint eDiscovery search properties such as  `Author` or  `FileExtension`. You can use operators to build complex queries. For the list of available properties and operators, see the [Using Search Properties and Operators with eDiscovery](https://go.microsoft.com/fwlink/?LinkId=510093) blog post.</span></span> 
  
## <a name="examples-of-complex-queries"></a><span data-ttu-id="e2fdd-150">Esempi</span><span class="sxs-lookup"><span data-stu-id="e2fdd-150">Examples of complex queries</span></span>

<span data-ttu-id="e2fdd-151">Negli esempi seguenti vengono utilizzati diversi tipi, proprietà e operatori sensibili per illustrare in che modo è possibile affinare le query per trovare esattamente ciò che si sta cercando.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-151">The following examples use different sensitive types, properties, and operators to illustrate how you can refine your queries to find exactly what you're looking for.</span></span>
  
|<span data-ttu-id="e2fdd-152">**Query**</span><span class="sxs-lookup"><span data-stu-id="e2fdd-152">**Query**</span></span>|<span data-ttu-id="e2fdd-153">**Spiegazione**</span><span class="sxs-lookup"><span data-stu-id="e2fdd-153">**Explanation**</span></span>|
|:-----|:-----|
| `SensitiveType:"International Banking Account Number (IBAN)"` <br/> |<span data-ttu-id="e2fdd-p111">Il nome potrebbe sembrare strano perché è così lungo, ma è il nome corretto per quel tipo di sensibili. Assicurarsi di utilizzare nomi esatti dall'inventario dei [tipi di informazioni riservate](https://go.microsoft.com/fwlink/?LinkID=509999). È inoltre possibile utilizzare il nome di un [tipo di informazioni riservate personalizzato](create-a-custom-sensitive-information-type.md) creato per l'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p111">The name might seem strange because it's so long, but it's the correct name for that sensitive type. Make sure to use exact names from the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999). You can also use the name of a [custom sensitive information type](create-a-custom-sensitive-information-type.md) that you created for your organization.  </span></span><br/> |
| `SensitiveType:"Credit Card Number|1..4294967295|1..100"` <br/> |<span data-ttu-id="e2fdd-p112">In questo modo vengono restituiti documenti con almeno una corrispondenza al tipo sensibile "numero di carta di credito". I valori per ogni intervallo sono i rispettivi valori minimo e massimo. Un modo più semplice per scrivere questa query è `SensitiveType:"Credit Card Number"`, ma qual è il divertimento in questo?</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p112">This returns documents with at least one match to the sensitive type "Credit Card Number." The values for each range are the respective minimum and maximum values. A simpler way to write this query is  `SensitiveType:"Credit Card Number"`, but where's the fun in that?  </span></span><br/> |
| `SensitiveType:"Credit Card Number| 5..25" AND LastSensitiveContentScan:"8/11/2018..8/13/2018"` <br/> |<span data-ttu-id="e2fdd-160">Restituisce documenti con 5-25 numeri di carta di credito che sono stati analizzati dall'11 agosto 2018 al 13 agosto 2018.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-160">This returns documents with 5-25 credit card numbers that were scanned from August 11, 2018 through August 13, 2018.</span></span>  <br/> |
| `SensitiveType:"Credit Card Number| 5..25" AND LastSensitiveContentScan:"8/11/2018..8/13/2018" NOT FileExtension:XLSX` <br/> |<span data-ttu-id="e2fdd-p113">Restituisce documenti con 5-25 numeri di carta di credito che sono stati analizzati dall'11 agosto 2018 al 13 agosto 2018. I file con estensione XLSX non sono inclusi nei risultati della query.  `FileExtension` è una delle numerose proprietà che è possibile includere in una query. Per ulteriori informazioni, vedere [utilizzo di proprietà e operatori di ricerca con eDiscovery](https://go.microsoft.com/fwlink/?LinkId=510093).</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p113">This returns documents with 5-25 credit card numbers that were scanned from August 11, 2018 through August 13, 2018. Files with an XLSX extension aren't included in the query results.  `FileExtension` is one of many properties that you can include in a query. For more information, see [Using Search Properties and Operators with eDiscovery](https://go.microsoft.com/fwlink/?LinkId=510093).  </span></span><br/> |
| `SensitiveType:"Credit Card Number" OR SensitiveType:"U.S. Social Security Number (SSN)"` <br/> |<span data-ttu-id="e2fdd-165">In questo modo vengono restituiti i documenti che contengono sia un numero di carta di credito che un numero di previdenza sociale.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-165">This returns documents that contain either a credit card number or a social security number.</span></span>  <br/> |
   
## <a name="examples-of-queries-to-avoid"></a><span data-ttu-id="e2fdd-166">Esempi</span><span class="sxs-lookup"><span data-stu-id="e2fdd-166">Examples of queries to avoid</span></span>

<span data-ttu-id="e2fdd-p114">Non tutte le query vengono create uguali. Nella tabella seguente vengono forniti esempi di query che non funzionano con DLP in SharePoint e viene descritto il motivo.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p114">Not all queries are created equal. The following table gives examples of queries that don't work with DLP in SharePoint and describes why.</span></span>
  
|<span data-ttu-id="e2fdd-169">**Query non supportate**</span><span class="sxs-lookup"><span data-stu-id="e2fdd-169">**Unsupported query**</span></span>|<span data-ttu-id="e2fdd-170">**Motivo**</span><span class="sxs-lookup"><span data-stu-id="e2fdd-170">**Reason**</span></span>|
|:-----|:-----|
| `SensitiveType:"Credit Card Number|.."` <br/> |<span data-ttu-id="e2fdd-171">Aggiungere almeno un numero.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-171">You must add at least one number.</span></span>  <br/> |
| `SensitiveType:"NotARule"` <br/> |<span data-ttu-id="e2fdd-p115">"NotARule" non è un nome di tipo sensibile valido. Solo i nomi dei [tipi di informazioni riservate](https://go.microsoft.com/fwlink/?LinkID=509999) funzionano nell'inventario delle query DLP.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p115">"NotARule" isn't a valid sensitive type name. Only names in the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999) work in DLP queries.  </span></span><br/> |
| `SensitiveType:"Credit Card Number|0"` <br/> |<span data-ttu-id="e2fdd-174">Zero non è valido come valore minimo o valore massimo di un intervallo.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-174">Zero isn't valid as either the minimum value or the maximum value in a range.</span></span>  <br/> |
| `SensitiveType:"Credit Card Number"` <br/> |<span data-ttu-id="e2fdd-p116">Potrebbe essere difficile da vedere, ma c'è spazio vuoto supplementare tra "credito" e "carta" che rende la query non valida. Utilizzare nomi di tipo sensibili esatti dall' [inventario dei tipi di informazioni riservate](https://go.microsoft.com/fwlink/?LinkID=509999).</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p116">It's might be difficult to see, but there's extra white space between "Credit" and "Card" that makes the query invalid. Use exact sensitive type names from the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999).  </span></span><br/> |
| `SensitiveType:"Credit Card Number|1. .3"` <br/> |<span data-ttu-id="e2fdd-177">La parte di due periodi non deve essere separata da uno spazio.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-177">The two-period portion shouldn't be separated by a space.</span></span>  <br/> |
| `SensitiveType:"Credit Card Number| |1..|80.."` <br/> |<span data-ttu-id="e2fdd-178">Sono presenti troppi delimitatori di pipe (</span><span class="sxs-lookup"><span data-stu-id="e2fdd-178">There are too many pipe delimiters (</span></span>|<span data-ttu-id="e2fdd-p117">). Seguire questo formato invece:`SensitiveType: "Credit Card Number|1..|80.."`</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p117">). Follow this format instead: `SensitiveType: "Credit Card Number|1..|80.."`</span></span> <br/> |
| `SensitiveType:"Credit Card Number|1..|80..101"` <br/> |<span data-ttu-id="e2fdd-p118">Poiché i valori di sicurezza rappresentano una percentuale, non possono superare 100. Scegliere un numero compreso tra 1 e 100.</span><span class="sxs-lookup"><span data-stu-id="e2fdd-p118">Because confidence values represent a percentage, they can't exceed 100. Choose a number from 1 through 100 instead.</span></span>  <br/> |
   
## <a name="for-more-information"></a><span data-ttu-id="e2fdd-183">Ulteriori informazioni</span><span class="sxs-lookup"><span data-stu-id="e2fdd-183">For more information</span></span>

[<span data-ttu-id="e2fdd-184">Cosa individuano le tipologie di informazioni sensibili</span><span class="sxs-lookup"><span data-stu-id="e2fdd-184">What the sensitive information types look for</span></span>](what-the-sensitive-information-types-look-for.md)
  
[<span data-ttu-id="e2fdd-185">Eseguire una ricerca contenuto nel centro sicurezza &amp; e conformità di Office 365</span><span class="sxs-lookup"><span data-stu-id="e2fdd-185">Run a Content Search in the Office 365 Security &amp; Compliance Center</span></span>](run-a-content-search-in-the-security-and-compliance-center.md)
  
[<span data-ttu-id="e2fdd-186">Query con parole chiave e condizioni di ricerca per la Ricerca contenuto</span><span class="sxs-lookup"><span data-stu-id="e2fdd-186">Keyword queries and search conditions for Content Search</span></span>](keyword-queries-and-search-conditions.md)
  

